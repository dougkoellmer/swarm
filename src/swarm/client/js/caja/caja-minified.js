(function(){var f=void 0,i=!0,k=null,M=function(){function y(a){return function(b,e,d){if(b){var h="caja_ajax_"+G++;window[h]=function(a){try{d(a)}finally{window[h]=f}};H(h,a?""+a:g.server+"/cajole?url="+encodeURIComponent(b.toString())+"&input-mime-type="+encodeURIComponent(e)+"&transform=PROXY&callback="+encodeURIComponent(h)+"&alt=json-in-script")}else d(f)}}function o(a){return function(){p&&p.console[a].apply(p.console,arguments)}}function c(){throw Error("Calling taming function before Caja is ready");
}function z(a,b,e){if("UNREADY"!==j)throw Error("Caja cannot be initialized more than once");j="PENDING";u(a,function(a,e){q=a;g.iframe=a.iframe;g.USELESS=a.USELESS;for(var l in g)g[l]===c&&(g[l]=a[l]);a.disableSecurityForDebugger(A);j="READY";l={};l.es5Mode=e;"function"===typeof b&&b(l);v(k)},function(a){j="UNREADY";e(a)})}function v(a){"function"===typeof a&&r.push(a);if("READY"===j){for(a=0;a<r.length;a++)setTimeout(r[a],0);r=[]}}function u(a,b,e){w(window);p=a=I(a);g.server=a.server;!1===a.es5Mode||
a.es5Mode!==i&&!Object.getOwnPropertyNames?B(a,b):J(a,b,e)}function I(a){var a=a||{},b={};b.server=""+(a.server||a.cajaServer||K);b.resources=""+(a.resources||b.server);b.debug=!!a.debug;if("forceES5Mode"in a&&"es5Mode"in a)throw Error("Cannot use both forceES5Mode and es5Mode in the same config");if(a.forceES5Mode!==f)b.es5Mode=!!a.forceES5Mode,b.maxAcceptableSeverity="NOT_ISOLATED";else{b.es5Mode=a.es5Mode===f?"GUESS":!!a.es5Mode;var e=""+(a.maxAcceptableSeverity||"SAFE_SPEC_VIOLATION");"NO_KNOWN_EXPLOIT_SPEC_VIOLATION"===
e&&(e="SAFE_SPEC_VIOLATION",b.acceptNoKnownExploitProblems=i);b.maxAcceptableSeverity=e}b.console=a.console?a.console:a.log?{log:a.log,warn:a.log,error:a.log,info:a.log}:window.console&&"function"===typeof window.console.log?window.console:{log:function(){},warn:function(){},error:function(){},info:function(){}};if(a.targetAttributePresets){if(!a.targetAttributePresets["default"])throw"targetAttributePresets must contain a default";if(!a.targetAttributePresets.whitelist)throw"targetAttributePresets must contain a whitelist";
if(0===a.targetAttributePresets.whitelist.length)throw"targetAttributePresets.whitelist array must be nonempty";b.targetAttributePresets=a.targetAttributePresets}"object"===typeof a.cajolingServiceClient&&(b.cajolingServiceClient=a.cajolingServiceClient);return b}function w(a){a.Object.FERAL_FRAME_OBJECT___!==a.Object&&(a.___={},a.Object.FERAL_FRAME_OBJECT___=a.Object)}function B(a,b){var e=C(a,"es53-guest-frame");m(a,"es53-taming-frame",function(d){d=d.ES53FrameGroup(D,a,d,window,e);b(d,!1)})}function J(a,
b,e){var d=C(a,"ses-single-frame",function(b){b=b.ses||(b.ses={});b.maxAcceptableSeverityName=a.maxAcceptableSeverity;a.acceptNoKnownExploitProblems&&(b.acceptableProblems={DEFINING_READ_ONLY_PROTO_FAILS_SILENTLY:{permit:i},PUSH_IGNORES_SEALED:{permit:i,doNotRepair:i},UNSHIFT_IGNORES_SEALED:{permit:i},SPLICE_IGNORES_SEALED:{permit:i},SHIFT_IGNORES_SEALED:{permit:i},PUSH_DOES_NOT_THROW_ON_FROZEN_ARRAY:{permit:i,doNotRepair:i},ARRAYS_DELETE_NONCONFIGURABLE:{permit:i},ARRAYS_MODIFY_READONLY:{permit:i},
FREEZE_IS_FRAME_DEPENDENT:{permit:i},SYNTAX_ERRORS_ARENT_ALWAYS_EARLY:{permit:i}});b.mitigateSrcGotchas=function(){throw new EvalError("This function is a placeholder that should have been replaced by the real ses.mitigateSrcGotchas.");}});m(a,"utility-frame",function(h){var c=h.ses.mitigateSrcGotchas;d.make(function(d){var h=a.es5Mode===i;if(d.ses.ok())d=d.SESFrameGroup(D,a,d,window,{mitigateSrcGotchas:c}),b(d,i);else if(h)if(d=Error("ES5 mode requested but browser is unsupported"),"function"===
typeof e)e(d);else throw d;else a.console.log("Unable to use SES.  Switching to ES53."),B(a,b)})})}function C(a,b,e){function d(){if("WAITING"===h&&c){var a=c,b=g;h="IDLE";g=c=k;b(a)}}var h="IDLE",c,g,j={preload:function(){"IDLE"===h&&(h="LOADING",c=k,m(a,b,function(a){c=a;d()},e))},make:function(c){"LOADING"===h?(h="WAITING",g=c,d()):m(a,b,c,e)}};j.preload();return j}function m(a,b,e,d){var c=E(b),g=F(a.resources,s+"/"+b+(a.debug?".js?debug=1":".opt.js?debug=1"));setTimeout(function(){c.cajaIframeDone___=
function(){if(s!==c.cajaBuildVersion){var d="Version error: caja.js version "+s+" does not match "+b+" version "+c.cajaBuildVersion+".";if((""+s).split(/[mM]/)[0]===(""+c.cajaBuildVersion).split(/[mM]/)[0])a.console.log(d+"  Continuing because major versions match.");else throw a.console.log(d),Error(d);}e(c)};d&&d(c);setTimeout(function(){var a=c.document,b=a.createElement("script");b.setAttribute("type","text/javascript");b.src=g;a.body.appendChild(b)},0)},0)}function E(a){var b=document.createElement("iframe");
b.style.display="none";b.width=0;b.height=0;b.className=a||"";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);return b.contentWindow}function H(a,b){x||(x=E("loader-frame").document);var c=""+'<script>var $name = parent.window["$name"];<\/script>'.replace(/[$]name/g,a)+'<script type="text/javascript" src="$url"><\/script>'.replace(/[$]url/g,(""+b).replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&#34;"));x.write(c)}function F(a,b){a=a.replace(/\/+$/,
"");b=b.replace(/^\/+/,"");return a+"/"+b}function n(a,b,c){if(typeof a!==b)throw new TypeError("expected "+b+" instead of "+typeof a+": "+(c||a));return a}var s="5591m",K="https://caja.appspot.com/",q,r=[],t=[],L=0,j="UNREADY",p=f,G=1,A=!1,x,g={initialize:z,load:function(a,b,c,d){b=b||g.policy.net.NO_NETWORK;"UNREADY"===j&&z({});v(function(){q.makeES5Frame(a,b,c,d)})},whenReady:v,policy:{net:{rewriter:{NO_NETWORK:function(){return k},ALL:function(a){return""+a}},fetcher:{USE_XHR:function(a,b,c){var d=
new XMLHttpRequest;d.open("GET",a.toString(),i);d.overrideMimeType(b);d.onreadystatechange=function(){4==d.readyState&&c({html:d.responseText})};d.send()},USE_AS_PROXY:y},NO_NETWORK:{rewrite:function(){return k},fetch:function(a,b,c){setTimeout(function(){c({})},0)}},ALL:{rewrite:function(a){return""+a},fetch:y(f)},only:function(a){a=""+a;return{rewrite:function(b){b=""+b;return b===a?b:k}}}},ATTRIBUTETYPES:f,LOADERTYPES:f,URIEFFECTS:f},iframe:k,USELESS:f,tame:c,tamesTo:c,reTamesTo:c,untame:c,unwrapDom:c,
markReadOnlyRecord:c,markFunction:c,markCtor:c,markXo4a:c,grantMethod:c,grantRead:c,grantReadWrite:c,adviseFunctionBefore:c,adviseFunctionAfter:c,adviseFunctionAround:c,makeDefensibleObject___:c,makeDefensibleFunction___:c,initFeralFrame:w,makeFrameGroup:u,configure:u,disableSecurityForDebugger:function(a){A=!!a;q&&q.disableSecurityForDebugger(a)},Q:c,console:{error:o("error"),info:o("info"),log:o("log"),warn:o("warn")},testing_makeDomadoRuleBreaker:c,a:1},D={documentBaseUrl:function(){var a=document.getElementsByTagName("base");
if(0==a.length)return document.location.toString();if(1==a.length){a=a[0].href;if("string"!==typeof a)throw Error("Caja loader error: <base> without a href.");return a}throw Error("Caja loader error: document contains multiple <base>.");},getId:function(a){n(a,"object","imports");var b;b="id___"in a?n(a.id___,"number","id"):a.id___=t.length;t[b]=a;return b},getImports:function(a){var b=t[n(a,"number","id")];if(b===f)throw Error("Internal: imports#",a," unregistered");return b},joinUrl:F,loadCajaFrame:m,
prepareContainerDiv:function(a,b,c){b=(c=c||{},c.idClass)||"caja-guest-"+L++ +"___";a&&9===a.nodeType&&(g.console.warn("Warning: Using a document, rather than an element, as a Caja virtual document container is an experimental feature and may not operate correctly or support all features."),w(a.defaultView));return{idClass:b,opt_div:a}},unregister:function(a){n(a,"object","imports");"id___"in a&&(a=n(a.id___,"number","id"),t[a]=f)},readPropertyAsHostFrame:function(a,b){return a[b]}};return g}();
"undefined"!==typeof window&&(window.caja=M);})();
