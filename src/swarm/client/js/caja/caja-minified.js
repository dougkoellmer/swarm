(function(){var g=void 0,i=!0,j=null,N=function(){function y(a){return function(b,d,c){if(b){var f="caja_ajax_"+H++;window[f]=function(a){try{c(a)}finally{window[f]=g}};I(f,a?""+a:h.server+"/cajole?url="+encodeURIComponent(b.toString())+"&input-mime-type="+encodeURIComponent(d)+"&transform=PROXY&callback="+encodeURIComponent(f)+"&alt=json-in-script")}else c(g)}}function o(a){return function(){p&&p.console[a].apply(p.console,arguments)}}function e(){throw Error("Calling taming function before Caja is ready");
}function z(a,b,d){if("UNREADY"!==l)throw Error("Caja cannot be initialized more than once");l="PENDING";u(a,function(a,d){q=a;h.iframe=a.iframe;h.USELESS=a.USELESS;for(var k in h)h[k]===e&&(h[k]=a[k]);a.disableSecurityForDebugger(A);l="READY";k={};k.es5Mode=d;"function"===typeof b&&b(k);v(j)},function(a){l="UNREADY";d(a)})}function v(a){"function"===typeof a&&r.push(a);if("READY"===l){for(a=0;a<r.length;a++)setTimeout(r[a],0);r=[]}}function u(a,b,d){B(window);p=a=J(a);h.server=a.server;!1===a.es5Mode||
a.es5Mode!==i&&!Object.getOwnPropertyNames?C(a,b):K(a,b,d)}function J(a){var a=a||{},b={};b.server=""+(a.server||a.cajaServer||L);b.resources=""+(a.resources||b.server);b.debug=!!a.debug;if("forceES5Mode"in a&&"es5Mode"in a)throw Error("Cannot use both forceES5Mode and es5Mode in the same config");if(a.forceES5Mode!==g)b.es5Mode=!!a.forceES5Mode,b.maxAcceptableSeverity="NOT_ISOLATED";else{b.es5Mode=a.es5Mode===g?"GUESS":!!a.es5Mode;var d=""+(a.maxAcceptableSeverity||"SAFE_SPEC_VIOLATION");"NO_KNOWN_EXPLOIT_SPEC_VIOLATION"===
d&&(d="SAFE_SPEC_VIOLATION",b.acceptNoKnownExploitProblems=i);b.maxAcceptableSeverity=d}b.console=a.console?a.console:a.log?{log:a.log,warn:a.log,error:a.log,info:a.log}:window.console&&"function"===typeof window.console.log?window.console:{log:function(){},warn:function(){},error:function(){},info:function(){}};if(a.targetAttributePresets){if(!a.targetAttributePresets["default"])throw"targetAttributePresets must contain a default";if(!a.targetAttributePresets.whitelist)throw"targetAttributePresets must contain a whitelist";
if(0===a.targetAttributePresets.whitelist.length)throw"targetAttributePresets.whitelist array must be nonempty";b.targetAttributePresets=a.targetAttributePresets}"object"===typeof a.cajolingServiceClient&&(b.cajolingServiceClient=a.cajolingServiceClient);return b}function B(a){a.Object.FERAL_FRAME_OBJECT___!==a.Object&&(a.___={},a.Object.FERAL_FRAME_OBJECT___=a.Object)}function C(a,b){var d=D(a,"es53-guest-frame");m(a,"es53-taming-frame",function(c){c=c.ES53FrameGroup(E,a,c,window,d);b(c,!1)})}function K(a,
b,d){var c=D(a,"ses-single-frame",function(b){b=b.ses||(b.ses={});b.maxAcceptableSeverityName=a.maxAcceptableSeverity;a.acceptNoKnownExploitProblems&&(b.acceptableProblems={DEFINING_READ_ONLY_PROTO_FAILS_SILENTLY:{permit:i},PUSH_IGNORES_SEALED:{permit:i,doNotRepair:i},PUSH_IGNORES_FROZEN:{doNotRepair:i},PUSH_DOES_NOT_THROW_ON_FROZEN_ARRAY:{permit:i,doNotRepair:i},ARRAYS_DELETE_NONCONFIGURABLE:{permit:i},ARRAYS_MODIFY_READONLY:{permit:i},FREEZE_IS_FRAME_DEPENDENT:{permit:i}})});m(a,"utility-frame",
function(f){var e=f.ses.mitigateSrcGotchas;c.make(function(c){var f=a.es5Mode===i;if(c.ses.ok())c=c.SESFrameGroup(E,a,c,window,{mitigateSrcGotchas:e}),b(c,i);else if(f)if(c=Error("ES5 mode requested but browser is unsupported"),"function"===typeof d)d(c);else throw c;else a.console.log("Unable to use SES.  Switching to ES53."),C(a,b)})})}function D(a,b,d){function c(){if("WAITING"===f&&e){var a=e,b=w;f="IDLE";w=e=j;b(a)}}var f="IDLE",e,w,h={preload:function(){"IDLE"===f&&(f="LOADING",e=j,m(a,b,function(a){e=
a;c()},d))},make:function(e){"LOADING"===f?(f="WAITING",w=e,c()):m(a,b,e,d)}};h.preload();return h}function m(a,b,d,c){var e=F(b),h=G(a.resources,s+"/"+b+(a.debug?".js?debug=1":".opt.js?debug=1"));setTimeout(function(){e.cajaIframeDone___=function(){if(s!==e.cajaBuildVersion){var c="Version error: caja.js version "+s+" does not match "+b+" version "+e.cajaBuildVersion+".";if((""+s).split(/[mM]/)[0]===(""+e.cajaBuildVersion).split(/[mM]/)[0])a.console.log(c+"  Continuing because major versions match.");
else throw a.console.log(c),Error(c);}d(e)};c&&c(e);setTimeout(function(){var a=e.document,b=a.createElement("script");b.setAttribute("type","text/javascript");b.src=h;a.body.appendChild(b)},0)},0)}function F(a){var b=document.createElement("iframe");b.style.display="none";b.width=0;b.height=0;b.className=a||"";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);return b.contentWindow}function I(a,b){x||(x=F("loader-frame").document);var d=""+'<script>var $name = parent.window["$name"];<\/script>'.replace(/[$]name/g,
a)+'<script type="text/javascript" src="$url"><\/script>'.replace(/[$]url/g,(""+b).replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&#34;"));x.write(d)}function G(a,b){a=a.replace(/\/+$/,"");b=b.replace(/^\/+/,"");return a+"/"+b}function n(a,b,d){if(typeof a!==b)throw new TypeError("expected "+b+" instead of "+typeof a+": "+(d||a));return a}var s="5470m",L="https://caja.appspot.com/",q,r=[],t=[],M=0,l="UNREADY",p=g,H=1,A=!1,x,h={initialize:z,load:function(a,b,d,c){b=
b||h.policy.net.NO_NETWORK;"UNREADY"===l&&z({});v(function(){q.makeES5Frame(a,b,d,c)})},whenReady:v,policy:{net:{rewriter:{NO_NETWORK:function(){return j},ALL:function(a){return""+a}},fetcher:{USE_XHR:function(a,b,d){var c=new XMLHttpRequest;c.open("GET",a.toString(),i);c.overrideMimeType(b);c.onreadystatechange=function(){4==c.readyState&&d({html:c.responseText})};c.send()},USE_AS_PROXY:y},NO_NETWORK:{rewrite:function(){return j},fetch:function(a,b,d){setTimeout(function(){d({})},0)}},ALL:{rewrite:function(a){return""+
a},fetch:y(g)},only:function(a){a=""+a;return{rewrite:function(b){b=""+b;return b===a?b:j}}}},ATTRIBUTETYPES:g,LOADERTYPES:g,URIEFFECTS:g},iframe:j,USELESS:g,tame:e,tamesTo:e,reTamesTo:e,untame:e,unwrapDom:e,markReadOnlyRecord:e,markFunction:e,markCtor:e,markXo4a:e,grantMethod:e,grantRead:e,grantReadWrite:e,adviseFunctionBefore:e,adviseFunctionAfter:e,adviseFunctionAround:e,makeDefensibleObject___:e,makeDefensibleFunction___:e,initFeralFrame:B,makeFrameGroup:u,configure:u,disableSecurityForDebugger:function(a){A=
!!a;q&&q.disableSecurityForDebugger(a)},Q:e,console:{error:o("error"),info:o("info"),log:o("log"),warn:o("warn")},testing_makeDomadoRuleBreaker:e,a:1},E={documentBaseUrl:function(){var a=document.getElementsByTagName("base");if(0==a.length)return document.location.toString();if(1==a.length){a=a[0].href;if("string"!==typeof a)throw Error("Caja loader error: <base> without a href.");return a}throw Error("Caja loader error: document contains multiple <base>.");},getId:function(a){n(a,"object","imports");
var b;b="id___"in a?n(a.id___,"number","id"):a.id___=t.length;t[b]=a;return b},getImports:function(a){var b=t[n(a,"number","id")];if(b===g)throw Error("Internal: imports#",a," unregistered");return b},joinUrl:G,loadCajaFrame:m,prepareContainerDiv:function(a,b,d){if(a&&b.document!==a.ownerDocument)throw"<div> provided for ES5 frame must be in main document";var b=(d=d||{},d.idClass)||"caja-guest-"+M++ +"___",c=d=j;if(a){d=a.ownerDocument.createElement("div");d.className="caja-vdoc-inner caja-vdoc-wrapper";
d.style.display="block";d.style.position="relative";c=a.ownerDocument.createElement("div");c.className="caja-vdoc-outer caja-vdoc-wrapper";c.style.position="relative";c.style.overflow="hidden";c.style.display="block";c.style.margin="0";for(c.style.padding="0";a.firstChild;)d.appendChild(a.firstChild);c.appendChild(d);a.appendChild(c)}return{idClass:b,inner:d,outer:c}},unregister:function(a){n(a,"object","imports");"id___"in a&&(a=n(a.id___,"number","id"),t[a]=g)},readPropertyAsHostFrame:function(a,
b){return a[b]}};return h}();"undefined"!==typeof window&&(window.caja=N);})();
